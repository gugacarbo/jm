<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jm Acessórios de Luxo</title>

    <link rel="stylesheet" href="../css/main.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/glider-js@1/glider.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/glider-js@1/glider.min.js"></script>

    <script src="https://kit.fontawesome.com/dd47628d23.js" crossorigin="anonymous"></script>

</head>

<body>
    <header>
        <div class="headerContent">
            <div class="logoImg">
                <a href="/">
                    <img src="/img/logoRosa.png">
                </a>
            </div>
            <div class="menu">
                <span class="menuItem"><a href="/">Home</a></span>
                <span class="menuItem"><a href="/about">Sobre</a></span>
                <span class="menuItem"><a href="/products">Produtos</a></span>
                <span class="menuItem"><a href="/#contactDiv">Contato</a></span>
            </div>

            <div class="social">
                <a href="https://www.instagram.com/jomartelloacessorios/" target="blank">
                    <i class="fab fa-instagram"></i>
                </a>

                <a href="https://api.whatsapp.com/send?phone=5549999604384" target="blank">
                    <i class="fab fa-whatsapp"></i></a>
            </div>

            <div class="search">
                <input type="text" id="searchText" placeholder="Pesquise por produtos">
                <i class="fas fa-search"></i>
            </div>
            <div class="cart">
                <i class="fas fa-shopping-cart"></i>
                <span class="itemCart" id="ItemCart">0</span>
            </div>
        </div>
    </header>



    <div class="mainBanner">

        <div id="BannerSlider">
            <img
                src="https://img.elo7.com.br/product/zoom/1C340F5/quadro-tela-paisagens-natureza-praia-coqueiro-mar-areia-004-quadro-tela.jpg">
            <img
                src="https://img.elo7.com.br/product/zoom/1C340F5/quadro-tela-paisagens-natureza-praia-coqueiro-mar-areia-004-quadro-tela.jpg">
            <img src="https://46781.cdn.simplo7.net/static/46781/sku/quadros-por-tema-paisagens-e-natureza-quadro-retangular-paisagem-litoranea-ao-anoitecer--p-1633033574294.jpg"
                alt="" srcset="">
        </div>
        <div role="tablist" class="dotsBanner"></div>

    </div>



    <div class="filterBox">
        <div class="filter">
            <div>
                <span>Preço Min.</span>
                <input type="text" id="SearchMinVal" placeholder="R$ 0,00">
            </div>
            <div>
                <span>Preço Max.</span>
                <input type="text" id="SearchMaxVal" placeholder="R$ 0,00">
            </div>
            <div>
                <span>Categoria</span>
                <select>
                    <option value="1">
                        <div class="opt">3</div>
                    </option>
                    <option value="1">

                        <div class="opt">2</div>
                    </option>
                    <option value="1">
                        <div class="opt">1</div>
                    </option>
                </select>
            </div>
            <div>
                <span>Filtrar por</span>
                <select>
                    <option value="1">
                        <div class="opt">1</div>
                    </option>
                    <option value="1">
                        <div class="opt">2</div>
                    </option>
                    <option value="1">
                        <div class="opt">3</div>
                    </option>
                </select>
            </div>
            <div class="search">
                <input type="text" placeholder="Pesquise por produtos">
                <i class="fas fa-search"></i>
            </div>
        </div>
    </div>
    <div class="products">
        <div class="showProducts" id="ShowProducts">




        </div>
    </div>



    <footer>
        <div class="footerContent">
            <div class="footerMenu">
                <a>Menu</a>
                <a>Sobre</a>
                <a>Termos de Compra</a>
                <a>Contato</a>
            </div>

            <div class="footerLogo">
                <img src="../img/logoRosa.png">
            </div>

            <div class="scudero">
                <img src="../img/scudero.png">
            </div>
        </div>
    </footer>

    <script src="/jquery.mask.js"></script>


    <script>
        $('#SearchMinVal').mask('000.000.000.000.000,00', {reverse: true});
        $('#SearchMaxVal').mask('000.000.000.000.000,00', {reverse: true});

        $(document).ready(() => {


            $(window).scroll(function () {
                if ($(this).scrollTop() > 550) {
                $(".filterBox").css("position", "fixed");
                $(".filterBox").css("left", "0");
                $(".filterBox").css("top", "0");
                $(".products").css("margin-top", "150px");

                } else {
                   
                $(".filterBox").css("position", "inherit");
                $(".products").css("margin-top", "0px");



                }
            });



            setProdSlider("#ShowProducts", [1, 2, 3, 4, 5, 6, 1, 2, 3, 4, 5, 6]);


            var banner = new Glider(document.querySelector('#BannerSlider'), {
                slidesToShow: 1,
                slidesToScroll: 1,
                draggable: false,
                dragVelocity: 2,
                dots: '.dotsBanner',
                duration: 3,
                rewind: true,
                arrows: {
                    prev: '.prevBanner',
                    next: '.nextBanner',
                },
            });



            sliderAuto(banner, 1000)
        })




        function sliderAuto(slider, miliseconds) {
            const slidesCount = slider.track.childElementCount;
            let slideTimeout = null;
            let nextIndex = 1;

            function slide() {
                slideTimeout = setTimeout(
                    function () {
                        nextIndex = slider.slide + 1;
                        if (nextIndex >= slidesCount) {
                            nextIndex = 0;
                        }

                        slider.scrollItem(nextIndex);
                    },
                    miliseconds
                );
            }

            slider.ele.addEventListener('glider-animated', function () {
                window.clearInterval(slideTimeout);
                slide();
            });

            slide();
        }




        function setProdSlider(id_el, prods_id) {
            prods_id.forEach(prod_id => {
                var prod = getProductById(prod_id);
                var ProdCarousel =
                    "<div class='product'>"
                    + "<a class='prodImage' href='/product?id=" + prod['id'] + "'>"
                    + "<img src='" + prod['imgs'][0] + "'>"
                    + "<img class='sImage' src='" + prod['imgs'][1] + "'>"
                    + "<span class='promo'" + (prod['promo'] > 0 ? ">" + Math.trunc((1 - (prod['price'] / prod['promo'])) * 100) + "% OFF" : "style='display:none;'>") + "</span>"
                    + "</a>"
                    + "<span class='prodName'>" + prod['name'] + "</span>"
                    + "<span class='prodPrice'>R$" + prod['price'] + "</span>"
                    + "<span class='prodPay'>ou em 4x de " + Math.round(prod['price'] / 4) + "</span>"
                    + "<i class='fas fa-shopping-cart' onclick='addCart(" + prod['id'] + ")'></i>"
                    + "</div>";
                $(id_el).append(ProdCarousel)
            })
        }

        function getProductById(id) {
            var p = {
                'id': id,
                'name': "ProdP" + id,
                'price': 99.90,
                'promo': 100.90,
                'desc': "None",
                imgs: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/Unico_Anello.jpg/360px-Unico_Anello.jpg', 'https://images.tcdn.com.br/img/img_prod/693313/colar_cordao_preto_amarrar_pedra_ametista_bruta_257_1_20190801173259.jpg'],
            }
            return p;
        }

    </script>
</body>

</html>