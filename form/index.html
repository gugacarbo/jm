<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Jm Acessórios de Luxo</title>

    <link rel="stylesheet" href="/css/main.css">
    <link href="https://cdn.jsdelivr.net/npm/glider-js@1/glider.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/dd47628d23.js" crossorigin="anonymous"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/glider-js@1/glider.min.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

</head>

<body>
    <script src="/jquery.mask.js"></script>

    <header>

    </header>


    <div class="form">
        <span class="formHeader">Dados Pessoais</span>
        <input id="DataNome" name="nome" type="text" placeholder="Nome" maxlength="50">
        <input id="DataSobrenome" name="sobrenome" type="text" placeholder="Sobrenome" maxlength="50">
        <input id="DataEmail" name="email" type="email" placeholder="e-mail" maxlength="120">
        <input id="DataTelefone" name="phone" type="text" placeholder="Telefone">
        <input id="DataCPF" name="cpf" type="text" placeholder="CPF">
        <input id="DataNascimento" name="nascimento" type="text" placeholder="Data de Nascimento">
    </div>
    <div class="form">
        <span class="formHeader">Dados de Envio</span>
        <input id="ShippingCEP"type="text" placeholder="CEP" required>
        <input id="ShippingRua"type="text" placeholder="Rua" style="width: 85%;" >
        <input id="ShippingNumero"type="text" placeholder="Número" style="width: 8%; text-align: center;" required>
        <input id="ShippingBairro"type="text" placeholder="Bairro" style="width: 40%;" >
        <input id="ShippingCidade"type="text" placeholder="Lages" style="width: 40%;" >
        <input id="ShippingUF"type="text" placeholder="UF" style="width: 8%; text-align: center;" >
        <input id="ShippingComplemento"type="text" placeholder="Complemento" style="width: 100%;" required maxlength="100">
    </div>

    <button class="formContinue">Continuar</button>

    <footer>

    </footer>
    <script>
        $("header").load("/includes/header.html");
        $("footer").load("/includes/footer.html");
        
        $('#DataTelefone').mask('(00) 0.0000-0000');
        $('#DataCPF').mask('000.000.000-00');
        $('#DataNascimento').mask('00/00/0000');
        $('#ShippingCEP').mask('00.000-000');
        $('#ShippingNumero').mask('00000');
        
        $(document).ready(()=>{
            $("#ShippingCEP").on('keyup', ()=>{
                if($("#ShippingCEP").val().length == 10){
                    var cep = $("#ShippingCEP").val();
                    $.ajax({
                        url: "http://viacep.com.br/ws/"+((cep).replace('.', '').replace('-', ''))+"/json/",
                        type: "GET",
                        crossDomain: true,
                        dataType: "json",
                        mode:'no-cors'
                    }).done((data)=>{
                        console.log(data)
                        $('#ShippingBairro').val(data['bairro'])
                        $('#ShippingCidade').val(data['localidade'])
                        $('#ShippingRua').val(data['logradouro'])
                        $('#ShippingUF').val(data['uf'])
                    })
                }
            })
            $(".formContinue").on("click",()=>{
                window.location.replace("/checkout")
            })
        })

    </script>

</body>

</html>